{% extends 'GUFilmmakingApp/base.html' %}
{% load static %}

{% block title %}
Profile
{% endblock %}

{% block extra_style_sheet %}
<link rel="stylesheet" href="{% static 'style/profile.css' %}">
{% endblock %}

{% block main_content %}
<div id="profile-top-row">
    <div id="profile-pic-section">
        <img id="profile-pic" src="" alt="Profile Picture">

        {% if user.is_authenticated and user == profile_user %}
        <div id="profile-buttons">
            <input type="file" id="upload-button" accept="image/*">
            <button id="remove-button" onclick="">Remove Picture</button>
        </div>
        {% endif %}

    </div>

    <div id="bio-section">
        <h2>Biography</h2>
        <p id="bio-content">User biography is written here.</p>

        {% if user.is_authenticated and user == profile_user %}
        <button id="edit-bio-button" onclick="">Edit Biography</button>
        {% endif %}

    </div>
</div>
<div id="posts-bottom-row">
    <div id="liked-posts-section">
        <h2>Liked Posts</h2>
        <ul id="liked-posts-list">
            <li>Post 1</li>
            <li>Post 2</li>
        </ul>
    </div>

    <div id="posted-posts-section">
        <h2>Posted Posts</h2>
        <ul id="posted-posts-list">
            <li>My Post 1</li>
            <li>My Post 2</li>
        </ul>
    </div>
</div>

<script>// Function to handle profile picture upload
    document.getElementById('upload-button').addEventListener('change', function () {
        var file = this.files[0];
        var reader = new FileReader();
        reader.onload = function (e) {
            document.getElementById('profile-pic').src = e.target.result;
        };
        reader.readAsDataURL(file);
    });

    // Function to handle profile picture removal
    function removeProfilePicture() {
        document.getElementById('profile-pic').src = ''; // Clearing the source
    }

    // Function to handle biography editing
    function editBio() {
        var newBio = prompt("Enter your new biography:");
        if (newBio !== null) {
            document.getElementById('bio-content').innerText = newBio;
        }
    }</script>


{% endblock %}